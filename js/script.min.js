const getBoolean=(a,b)=>{const c=localStorage.getItem(a);return"string"==typeof c?JSON.parse(c):b},jsEnabled=getBoolean("jsEnabled",!0),toggleAtStartup=getBoolean("toggleAtStartup",!0),statusClass=(a,b)=>a+(/--/.test(a)?"-":"--")+b,activateJs=(a,b)=>{(jsEnabled||b)&&a.forEach(a=>{const b=statusClass(a,"nojs");document.querySelectorAll("."+b).forEach(a=>{a.classList.remove(b)})})},queryElements=a=>{const b=[];return a.forEach(a=>{"string"==typeof a?document.querySelectorAll("."+a).forEach(c=>{b.push({klass:a,node:c})}):b.push(a)}),b},activateSticky=(a,b,c="sticky")=>{if(!jsEnabled)return;const d=queryElements(b);window.addEventListener("scroll",()=>{window.scrollY>=a?d.forEach(({node:a,klass:b})=>{a.classList.add(statusClass(b,c))}):d.forEach(({node:a,klass:b})=>{a.classList.remove(statusClass(b,c))})})};function activateToggle(a,b,c=[],d=!1,e="active"){const f=[];(Array.isArray(a)?a:[a]).forEach(a=>{"string"==typeof a?f.push(...document.querySelectorAll("."+a)):f.push(a)});const g=queryElements(b),h=queryElements(c),i=()=>{h.forEach(({node:a,klass:b})=>{-1===g.indexOf(a)&&a.classList.remove(statusClass(b,e))}),g.forEach(({node:a,klass:b})=>{a.classList.toggle(statusClass(b,e))})};f.forEach(a=>a.addEventListener("click",b=>{b.preventDefault(),i(a)})),d&&i()}activateJs(["add-plan__menu"]);function activateAddPlanMenu(){const a="add-plan__menu-item--active",b=document.querySelectorAll(".add-plan__menu-item[data-hash]");let c=!1;b.forEach(b=>{window.location.hash===b.getAttribute("data-hash")?(c=!0,b.classList.add(a)):b.classList.remove(a)}),!c&&b.length&&b[0].classList.add("add-plan__menu-item--active")}activateAddPlanMenu(),window.addEventListener("hashchange",activateAddPlanMenu),document.querySelectorAll(".add-plan__form").forEach(a=>{const b=a.querySelectorAll(".add-plan__comment-text");b.forEach(a=>a.required=!1),a.addEventListener("submit",a=>{let c=!0;b.forEach(a=>{a.classList.remove("add-plan__comment-text--error"),a.value||(a.classList.add("add-plan__comment-text--error"),a.focus(),c=!1)}),c||a.preventDefault()})}),jsEnabled&&activateToggle(["rates__business","business__close"],["business"],[],!1),activateJs(["country-filter__popup","country-filter__toggle"]),activateToggle("country-filter__toggle",["country-filter__toggle--permanent","country-filter__toggle-text","country-filter__inner","country-filter__continents","country-filter__letters","country-filter__countries","country-filter__toggle--temporary"],[],toggleAtStartup),activateJs(["country-select__select-item"]),jsEnabled&&document.querySelectorAll(".country-select").forEach(a=>{const b=a.querySelector(".country-select__inner"),c=a.querySelector(".country-select__select"),d=a.querySelector(".country-select__popup"),e=a.querySelector(".country-select__delete");c&&(c.addEventListener("mousedown",a=>a.preventDefault()),activateToggle([c],[{node:a,klass:"country-select"},{node:b,klass:"country-select__inner"},{node:c,klass:"country-select__select"},{node:d,klass:"country-select__popup"},{node:e,klass:"country-select__delete"}],[]))}),document.querySelectorAll(".feedback__signup-form").forEach(a=>{const b=a.querySelector(".feedback__signup-input");b.required=!1,a.addEventListener("submit",a=>{let c=!0;b.classList.remove("feedback__signup-input--error"),b.placeholder=b.getAttribute("placeholder"),b.value||(b.classList.add("feedback__signup-input--error"),b.placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",b.focus(),c=!1),c||a.preventDefault()})}),activateJs(["filter__fieldset-toggle"]),document.querySelectorAll(".filter__fieldset").forEach(a=>{const b=a.querySelector(".filter__fieldset-toggle"),c=a.querySelector(".filter__fieldset-inner");activateToggle([b],[{node:b,klass:"filter__fieldset-toggle"},{node:c,klass:"filter__fieldset-inner"}],[],toggleAtStartup)}),activateJs(["page-header__nav","page-header__inner","page-header__toggle-button"]),activateToggle("page-header__toggle",["page-header__nav","page-header__inner","page-header__logo-image","page-header__toggle-button","page-header__toggle-inner","page-header__site-nav","page-header__user-nav","page-header__contacts","page-header__socials"],[],toggleAtStartup),activateSticky(1,["page-header__nav","page-header__inner","page-header__toggle","page-header__toggle-inner--open","page-header__toggle-button","page-header__logo-image--dark","page-header__logo-image--light"]),activateJs(["user__save-button"]),activateJs(["user-profile__save-button"]);
